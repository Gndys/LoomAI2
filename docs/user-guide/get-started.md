# å¿«é€Ÿå¼€å§‹

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ åœ¨æœ¬åœ°ç¯å¢ƒä¸­è®¾ç½®å’Œè¿è¡Œ TinyShip é¡¹ç›®ã€‚

## ğŸ“‘ ç›®å½•

- [ğŸ“‹ ç³»ç»Ÿè¦æ±‚](#-ç³»ç»Ÿè¦æ±‚)
  - [å¿…éœ€è½¯ä»¶](#å¿…éœ€è½¯ä»¶)
- [ğŸš€ å¿«é€Ÿå®‰è£…](#-å¿«é€Ÿå®‰è£…)
  - [1. å…‹éš†é¡¹ç›®](#1-å…‹éš†é¡¹ç›®)
  - [2. å®‰è£… PNPMï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰](#2-å®‰è£…-pnpmå¦‚æœå°šæœªå®‰è£…)
  - [3. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿](#3-å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿)
  - [4. å®‰è£…é¡¹ç›®ä¾èµ–](#4-å®‰è£…é¡¹ç›®ä¾èµ–)
- [ğŸ—„ï¸ æ•°æ®åº“é…ç½®](#ï¸-æ•°æ®åº“é…ç½®)
  - [1. åˆ›å»º PostgreSQL æ•°æ®åº“](#1-åˆ›å»º-postgresql-æ•°æ®åº“)
  - [2. é…ç½®ç¯å¢ƒå˜é‡](#2-é…ç½®ç¯å¢ƒå˜é‡)
  - [3. åˆå§‹åŒ–æ•°æ®åº“æ¶æ„](#3-åˆå§‹åŒ–æ•°æ®åº“æ¶æ„)
  - [4. å¡«å……æµ‹è¯•æ•°æ®](#4-å¡«å……æµ‹è¯•æ•°æ®)
- [ğŸ” æœ€å°åŒ–è®¤è¯é…ç½®](#-æœ€å°åŒ–è®¤è¯é…ç½®)
- [ğŸ‰ å¯åŠ¨åº”ç”¨](#-å¯åŠ¨åº”ç”¨)

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

### å¿…éœ€è½¯ä»¶
- **Node.js**: >= 22.20.0 ï¼ˆ**å»ºè®®ä½¿ç”¨ 22.20.0 æˆ–æ›´é«˜çš„ LTS ç‰ˆæœ¬**ï¼‰
- **PNPM**: >= 9.0.0 ï¼ˆæ¨èçš„åŒ…ç®¡ç†å™¨ï¼‰
- **PostgreSQL**: >= 13.0 ï¼ˆæ•°æ®åº“ï¼‰


## ğŸš€ å¿«é€Ÿå®‰è£…

### 1. å…‹éš†é¡¹ç›®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/TinyshipCN/tinyship.git
cd tinyship

# æˆ–è€…ä½¿ç”¨ SSH
git clone git@github.com:TinyshipCN/tinyship.git
cd tinyship
```

### 2. å®‰è£… PNPMï¼ˆå¦‚æœå°šæœªå®‰è£…ï¼‰

```bash
# ä½¿ç”¨ npm å®‰è£… pnpm
npm install -g pnpm

# æˆ–ä½¿ç”¨ corepack (Node.js 16.10+)
corepack enable
corepack prepare pnpm@latest --activate
# éªŒè¯å®‰è£…
pnpm --version
```

### 3. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp env.example .env
```

### 4. å®‰è£…é¡¹ç›®ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install
```

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

TinyShip ä½¿ç”¨ PostgreSQL ä½œä¸ºä¸»æ•°æ®åº“ï¼Œç»“åˆ Drizzle ORM æä¾›ç±»å‹å®‰å…¨çš„æ•°æ®åº“æ“ä½œã€‚

### 1. åˆ›å»º PostgreSQL æ•°æ®åº“

æˆ‘ä»¬éœ€è¦åœ¨ PostgreSQLä¸­ åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“æ¥ä½¿ç”¨ tinyshipï¼Œä¸‹é¢æ˜¯ä¸‰ç§æ¨èçš„æ–¹å¼

#### æ–¹æ³• 1: ä½¿ç”¨ Dockerï¼ˆæ¨èï¼‰
```bash
# æ‹‰å–å¹¶è¿è¡Œ PostgreSQL å®¹å™¨
docker run --name tinyship-db \
  -e POSTGRES_USER=tinyship \
  -e POSTGRES_PASSWORD=your_password \
  -e POSTGRES_DB=tinyship \
  -p 5432:5432 \
  -d postgres:15

# éªŒè¯å®¹å™¨è¿è¡Œ
docker ps | grep tinyship-db
```

#### æ–¹æ³• 2: æœ¬åœ°å®‰è£…
```bash
# åˆ›å»ºæ•°æ®åº“ç”¨æˆ·å’Œæ•°æ®åº“
sudo -u postgres createuser --interactive tinyship
sudo -u postgres createdb tinyship --owner=tinyship

# è®¾ç½®ç”¨æˆ·å¯†ç 
sudo -u postgres psql -c "ALTER USER tinyship PASSWORD 'your_password';"
```

#### æ–¹æ³• 3: äº‘æ•°æ®åº“æœåŠ¡
æ”¯æŒä»¥ä¸‹äº‘æœåŠ¡æä¾›å•†ï¼š
- **Vercel Postgres**: ä¸ Vercel éƒ¨ç½²æ— ç¼é›†æˆ
- **Supabase**: æä¾›å…è´¹å¥—é¤ï¼Œæ˜“äºè®¾ç½®
- **AWS RDS**: ä¼ä¸šçº§é€‰æ‹©
- **Google Cloud SQL**: å¯é çš„æ‰˜ç®¡æœåŠ¡
- **é˜¿é‡Œäº‘ RDS**: å›½å†…ç”¨æˆ·æ¨è

### 2. é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `.env` æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥ï¼š

```env
# æ•°æ®åº“è¿æ¥é…ç½®
DATABASE_URL="postgresql://username:password@localhost:5432/tinyship"
```

```bash
# æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å¯ä»¥æˆåŠŸè¿æ¥
pnpm run db:check
```

### 3. åˆå§‹åŒ–æ•°æ®åº“æ¶æ„

ä¸‹é¢è®©æˆ‘ä»¬å°†éœ€è¦çš„è¡¨ç»“æ„æ¨é€åˆ°æœ¬åœ°çš„æ•°æ®åº“

#### å¼€å‘ç¯å¢ƒ - ç›´æ¥æ¨é€ï¼ˆæ¨èï¼‰

```bash
# å°†æ¶æ„ç›´æ¥æ¨é€åˆ°æ•°æ®åº“
pnpm run db:push
```

### 4. å¡«å……æµ‹è¯•æ•°æ®

æ¥ä¸‹æ¥å¡«å……ä¸€äº›ç”¨æˆ·æµ‹è¯•æ•°æ®ï¼Œä¸€ä¸ªç®¡ç†å‘˜ä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼š

```bash
# è¿è¡Œç§å­è„šæœ¬
pnpm run db:seed

```

è¿™å°†åˆ›å»ºä¸¤ä¸ªæµ‹è¯•ç”¨æˆ·ï¼š
- **ç®¡ç†å‘˜**: `admin@example.com` / `admin123` (è§’è‰²: admin)
- **æ™®é€šç”¨æˆ·**: `user@example.com` / `user123456` (è§’è‰²: user)

ä¸¤ä¸ªç”¨æˆ·éƒ½å·²éªŒè¯é‚®ç®±ï¼Œå¯ä»¥ç›´æ¥ç™»å½•ç³»ç»Ÿè¿›è¡Œæµ‹è¯•ã€‚

## ğŸ” æœ€å°åŒ–è®¤è¯é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®è®¤è¯ç›¸å…³ç¯å¢ƒå˜é‡ï¼š

```env
# è®¤è¯é…ç½®
BETTER_AUTH_SECRET="your-secret-key-here-32-characters-min" # 32ä½éšæœºæ•°
BETTER_AUTH_URL="http://localhost:7001"  # 7001ç«¯å£æ˜¯åº”ç”¨å¯åŠ¨çš„é»˜è®¤ç«¯å£ï¼Œç”Ÿäº§ç¯å¢ƒæ”¹ä¸ºå®é™…åŸŸå

# æ•°æ®åº“é…ç½®ï¼ˆè®¤è¯éœ€è¦ï¼Œä¸Šä¸€æ­¥åº”è¯¥å·²ç»é…ç½®ï¼‰
DATABASE_URL="postgresql://username:password@localhost:5432/tinyship"
```

**ç”Ÿæˆ 32 ä½éšæœºå­—ç¬¦ä¸²çš„æ–¹æ³•ï¼š**

å‘½ä»¤è¡Œç”Ÿæˆï¼š
```bash
# ä½¿ç”¨ openssl ç”Ÿæˆï¼ˆæ¨èï¼‰
openssl rand -hex 32

# ä½¿ç”¨ Node.js ç”Ÿæˆ
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# ä½¿ç”¨ Python ç”Ÿæˆ
python -c "import secrets; print(secrets.token_hex(32))"
```

åœ¨çº¿ç”Ÿæˆå™¨ï¼š
- [RandomKeygen](https://randomkeygen.com/) - æä¾›å¤šç§æ ¼å¼çš„éšæœºå¯†é’¥ç”Ÿæˆ
- [Password Generator](https://passwordsgenerator.net/) - å¯è‡ªå®šä¹‰é•¿åº¦å’Œå­—ç¬¦ç±»å‹

## ğŸ‰ å¯åŠ¨åº”ç”¨

ç°åœ¨æˆ‘ä»¬çš„åº”ç”¨åº”è¯¥å°±å¯ä»¥æœ€å°åŒ–è¿è¡Œäº† ğŸ‰ğŸ‰ğŸ‰ï¼Œå¯ä»¥åœ¨æ ¹ç›®å½•è¿è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å¯åŠ¨åº”ç”¨ï¼š

```bash
# å¯åŠ¨ next.js åº”ç”¨
pnpm run dev:next
# è®¿é—® http://localhost:7001
```

ä½ å¯ä»¥å…ˆæ„Ÿå—ä¸€ä¸‹å¤§ä½“çš„åŠŸèƒ½ï¼Œç°åœ¨æ˜¯æœ€å°åŒ–åº”ç”¨ï¼Œä¸€äº›é«˜çº§çš„é…ç½®è¿˜æ²¡æœ‰å®ç°ï¼ˆæ›´å¤šç™»å½•æ–¹å¼/æ”¯ä»˜ç­‰ç­‰ï¼‰ã€‚
---

ğŸŠ **æ­å–œï¼** ä½ å·²ç»æˆåŠŸè¿è¡Œäº† TinyShip åº”ç”¨ã€‚

æ¥ä¸‹æ¥ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›´å¤šé…ç½®ï¼š
- [åŸºç¡€é…ç½®](./basic-config.md) - åº”ç”¨åç§°ã€Logoã€ä¸»é¢˜ã€å›½é™…åŒ–
- [èº«ä»½è®¤è¯é…ç½®](./auth/overview.md) - æ›´å¤šç™»å½•æ–¹å¼
- [æ”¯ä»˜é…ç½®](./payment/overview.md) - æ¥å…¥æ”¯ä»˜åŠŸèƒ½
- [åº”ç”¨éƒ¨ç½²](./deployment/overview.md) - éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·åœ¨ [GitHub Discussion](https://github.com/orgs/TinyshipCN/discussions) æˆ–è€… [Tinyship Issues](https://github.com/TinyshipCN/tinyship/issues)ä¸­æäº¤é—®é¢˜ã€‚

# 产品交互设计方案

## 一、产品定位

- **目标用户**：服装设计师/制版师（专业用户）
- **核心价值**：快速生成AI图片用于设计工作
- **使用场景**：
  - 主场景：办公桌前，专注工作时段（批量处理设计任务）
  - 辅助场景：灵感来了随时用（快速记录想法，生成草图）
- **参照产品**：
  - Raphael.app（交互体验：快速生成、精确控制、AI编辑器）
  - Lovart.ai（设计风格：专业、智能、自动化）

---

## 二、交互基调

- **情感关键词**：高效、专业、易懂
- **操作频率**：每天多次，工作时段持续使用
- **风格定位**：对话式交互 + 双模式切换
  - **快速模式**：对话式输入，智能推荐（灵感捕捉）
  - **专业模式**：完整参数面板，精确控制（批量工作）
  - 用户可随时切换

---

## 三、核心流程

### 3.1 启动流程
```
用户打开产品
    ↓
直接进入生成界面（零等待）
    ↓
中间显示输入框/画布
    ↓
立即开始工作
```

### 3.2 快速模式流程（3-4步）
```
1. 选择生成类型
   └─ 服装设计 / 面料 / 款式图 / 线稿转CAD 等

2. 输入提示词 或 上传参考图
   └─ 支持拖拽上传
   └─ 智能识别图片内容

3. 调整基础参数（可选）
   └─ 尺寸、风格、数量

4. 点击生成
   └─ 显示进度条
   └─ 对比模式展示：左侧参考图 | 右侧生成结果
```

### 3.3 专业模式流程（5步以上）
```
1. 选择项目类型
   └─ 更细分的分类（如：连衣裙设计、西装制版等）

2. 选择风格模板
   └─ 预设风格库（如：简约、复古、街头等）

3. 输入详细描述 + 上传参考图
   └─ 支持多图上传
   └─ 支持文字详细描述

4. 调整细节参数
   └─ 尺寸、分辨率、风格强度、细节控制
   └─ 高级选项：色彩、材质、光影等

5. 生成预览
   └─ 实时预览效果
   └─ 可微调参数重新生成

6. 确认保存/导出
   └─ 选择格式（PNG/JPG/DXF等）
   └─ 批量导出
```

### 3.4 中断恢复机制
```
用户中途退出
    ↓
系统自动保存草稿
    ↓
下次打开时弹出提示
    ↓
"继续上次的工作？"
    ├─ 是 → 恢复提示词、参数、上传的图片
    └─ 否 → 清空，开始新任务
```

---

## 四、关键交互决策

### 4.1 导航结构
- **顶部导航栏**（横向排列）
  ```
  [Logo] | 首页 | 生成 | 历史 | 设置 | [用户头像/积分]
  ```
- 清晰直观，符合Web应用习惯

### 4.2 高频操作（一键可达）
1. **生成新图片**：主界面中央大按钮
2. **上传参考图**：拖拽区域 + 上传按钮（始终可见）
3. **下载/导出**：生成结果旁边的快捷按钮

### 4.3 反馈机制
| 场景 | 反馈方式 | 示例 |
|------|---------|------|
| 生成图片时 | 进度条/加载动画 | "正在生成中...预计30秒" |
| 保存/下载成功 | Toast轻提示 | 右上角3秒提示"下载成功" |
| 出错/积分不足 | Toast轻提示 | 右上角提示"积分不足，请充值" |

### 4.4 结果展示
- **对比模式**（默认）
  ```
  ┌─────────────┬─────────────┐
  │  参考图     │  生成结果    │
  │             │             │
  │  [原图]     │  [AI生成]   │
  │             │             │
  └─────────────┴─────────────┘
       ↓ 下载      ↓ 重新生成
  ```
- 方便设计师对比调整

### 4.5 历史记录
- **时间线排列**（按时间倒序）
  ```
  今天
  ├─ 14:30 连衣裙设计 v3
  ├─ 11:20 面料生成
  └─ 09:15 款式图草稿
  
  昨天
  ├─ 16:45 西装制版
  └─ ...
  ```
- 简单直接，像聊天记录

### 4.6 个性化设置
- **用户可自定义**：
  - 界面布局（紧凑/宽松）
  - 主题色（浅色/深色/自定义）
  - 字体大小
  - 默认参数（常用尺寸、风格等）
- 保存个人偏好，跨设备同步

---

## 五、可执行建议

### 建议1：双模式切换要显眼但不突兀
**理由**：这是核心差异化功能，但不能让新用户困惑。

**实现方案**：
- 右上角放置切换开关（Toggle）
  ```
  快速模式 ⚡ ◯────● 专业模式 🎯
  ```
- 首次使用时，轻提示："试试专业模式，解锁更多参数"
- 切换时有平滑过渡动画（参数面板展开/收起）

---

### 建议2：上传参考图要极其便捷
**理由**：这是第二高频操作，服装设计师经常需要基于现有图片生成。

**实现方案**：
- 主界面中央设置**大拖拽区域**
  ```
  ┌─────────────────────────────┐
  │  拖拽图片到这里              │
  │  或点击上传                  │
  │                             │
  │  支持 PNG/JPG，最大10MB     │
  └─────────────────────────────┘
  ```
- 支持**粘贴上传**（Ctrl+V 直接粘贴剪贴板图片）
- 支持**多图上传**（专业模式）
- 上传后自动识别内容，智能推荐参数

---

### 建议3：进度反馈要精准且有趣
**理由**：AI生成需要时间，让用户知道系统在工作，减少焦虑。

**实现方案**：
- 显示**百分比进度条** + **预计剩余时间**
  ```
  正在生成中... 65%
  预计还需 15 秒
  
  [████████████░░░░░░]
  ```
- 可选：显示生成过程的**中间态预览**（模糊 → 清晰）
- 生成完成时，轻微的**成功动画**（如✓图标弹出）

---

### 建议4：历史记录要支持快速复用
**理由**：设计师经常需要基于之前的成功案例微调。

**实现方案**：
- 历史记录卡片上显示**关键信息**：
  ```
  ┌─────────────────────┐
  │ [缩略图]            │
  │ 连衣裙设计 v3       │
  │ 14:30 | 快速模式    │
  │ [复用参数] [下载]   │
  └─────────────────────┘
  ```
- 点击"复用参数"，自动填充提示词和参数到生成界面
- 支持**收藏功能**（标记常用的配置）

---

### 建议5：专业模式的参数要分层展示
**理由**：避免参数过多让用户overwhelmed，但又要提供足够的控制力。

**实现方案**：
- **基础参数**（默认展开）：
  - 尺寸、风格、数量
- **高级参数**（折叠，点击展开）：
  - 色彩控制、材质、光影、细节强度
- **预设模板**（快捷入口）：
  - "简约风"、"复古风"、"街头风"等一键应用

---

## 六、项目修复记录

### 问题描述
项目被回档后，出现多个构建错误：
1. TypeScript 类型错误：多个页面的 map 函数参数缺少类型注解
2. 翻译定义缺失：多个功能页面的翻译字段不完整

### 修复措施
1. **修复 TypeScript 类型错误**：
   - 为 `ai-image-tools/page.tsx` 中的 map 函数添加类型注解

2. **删除翻译缺失的页面**（临时方案）：
   - `clothes-promo/page.tsx` - 宣发图制作
   - `clothes-sketch/page.tsx` - 服装线稿
   - `clothes-original-sketch/page.tsx` - 原始线稿
   - `pattern-making/page.tsx` - 版型拆解
   - `clothes-split/page.tsx` - 衣服拆分
   - `png-to-dxf/page.tsx` - PNG转DXF
   - `ai-image-tools/page.tsx` - AI图片工具
   - `virtual-try-on/page.tsx` - 虚拟试穿
   - `clothes-nano-retouch/page.tsx` - 智能修图

### 构建结果
- ✅ Next.js 应用构建成功
- ✅ Nuxt 应用构建成功

### 后续工作
需要恢复被删除的功能页面，并补充完整的翻译定义。


---

## 导航栏清理记录

### 当前可用的功能页面
1. **AI 聊天** - `/ai` - AI 对话功能
2. **高级功能** - `/premium-features` - 高级会员功能展示
3. **上传** - `/upload` - 文件上传功能
4. **卡片边界测试** - `/card-boundary-playground` - UI 组件测试
5. **定价** - `/pricing` - 订阅定价页面
6. **仪表盘** - `/dashboard` - 用户仪表盘
7. **支付成功/取消** - `/payment-success`, `/payment-cancel` - 支付结果页面

### 已删除的功能页面（翻译缺失）
以下页面因翻译定义不完整而被删除：
1. `clothes-promo` - 宣发图制作
2. `clothes-sketch` - 服装线稿
3. `clothes-original-sketch` - 原始线稿
4. `pattern-making` - 版型拆解
5. `clothes-split` - 衣服拆分
6. `png-to-dxf` - PNG转DXF
7. `ai-image-tools` - AI图片工具
8. `virtual-try-on` - 虚拟试穿
9. `clothes-nano-retouch` - 智能修图
10. `history` - 历史记录
11. `image-generate` - AI 图像生成
12. `image-split` - 图片拆分

### 导航栏更新
- 删除了所有不存在页面的链接
- 简化了导航结构，只保留可用功能
- 桌面导航和移动导航都已更新
- Footer 也已更新

### 构建状态
- ✅ Next.js 应用构建成功
- ✅ Nuxt 应用构建成功
- ✅ 所有导航链接指向有效页面
